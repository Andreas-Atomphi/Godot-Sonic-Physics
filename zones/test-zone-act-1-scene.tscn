[gd_scene load_steps=20 format=2]

[ext_resource path="res://game-assets/game-scripts/general-scripts/in-level-script.gd" type="Script" id=1]
[ext_resource path="res://general-objects/players-objects/player-camera.tscn" type="PackedScene" id=2]
[ext_resource path="res://general-objects/players-objects/player-obj.tscn" type="PackedScene" id=3]
[ext_resource path="res://zones/test-zone-objects/full-loop-object.tscn" type="PackedScene" id=4]
[ext_resource path="res://zones/test-zone-objects/full-circle-object.tscn" type="PackedScene" id=5]
[ext_resource path="res://zones/test-zone-objects/tilemap-test-zone-general/tileset-test-zone-general-one-way.tres" type="TileSet" id=6]
[ext_resource path="res://zones/test-zone-objects/tilemap-test-zone-general/tileset-test-zone-general.tres" type="TileSet" id=7]
[ext_resource path="res://game-assets/game-sprites/levels-sprites/test-zone-assets/background-1.png" type="Texture" id=8]
[ext_resource path="res://game-assets/game-sprites/levels-sprites/test-zone-assets/background-layer-2.png" type="Texture" id=13]
[ext_resource path="res://game-assets/game-classes/audio-chain.gd" type="Script" id=16]
[ext_resource path="res://game-assets/audio/musics/endless-mine-loop.ogg" type="AudioStream" id=17]
[ext_resource path="res://game-assets/audio/musics/endless-mine-begin.ogg" type="AudioStream" id=19]
[ext_resource path="res://zones/test-zone-objects/bigger-full-circle-object.tscn" type="PackedScene" id=20]
[ext_resource path="res://zones/test-zone-objects/full-small-loop-object.tscn" type="PackedScene" id=25]
[ext_resource path="res://game-assets/game-sprites/levels-sprites/test-zone-assets/tileset/DecorationBlock.png" type="Texture" id=26]
[ext_resource path="res://game-assets/audio/sfx/cliff-break.wav" type="AudioStream" id=41]
[ext_resource path="res://game-assets/audio/sfx/destroy.wav" type="AudioStream" id=45]
[ext_resource path="res://zones/test-zone-objects/rotate-cam-trigger-object.tscn" type="PackedScene" id=47]
[ext_resource path="res://game-assets/game-scripts/bg-parallax-extension-script.gd" type="Script" id=48]

[node name="main" type="Node"]
script = ExtResource( 1 )

[node name="BG" type="Node2D" parent="."]
z_index = -1000
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="BGParallax" type="ParallaxBackground" parent="BG"]
scroll_offset = Vector2( 300, 300 )
scroll_limit_begin = Vector2( -5000, 5000 )
scroll_limit_end = Vector2( 5000, 5000 )
scroll_ignore_camera_zoom = true
script = ExtResource( 48 )

[node name="Base" type="ParallaxLayer" parent="BG/BGParallax"]
motion_scale = Vector2( 0.025, 0.1 )
motion_offset = Vector2( -500, 0 )
motion_mirroring = Vector2( 760, 0 )
__meta__ = {
"_edit_group_": true
}

[node name="BG1" type="Sprite" parent="BG/BGParallax/Base"]
texture = ExtResource( 8 )

[node name="LayerBack" type="ParallaxLayer" parent="BG/BGParallax"]
position = Vector2( 384, 64 )
motion_scale = Vector2( 0.1, 0.3 )
motion_offset = Vector2( -500, 0 )
motion_mirroring = Vector2( 760, 0 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="BG/BGParallax/LayerBack"]
texture = ExtResource( 13 )

[node name="LayerBack2" type="ParallaxLayer" parent="BG/BGParallax"]
position = Vector2( 385, 67 )
motion_scale = Vector2( 0.3, 0.5 )
motion_offset = Vector2( -500, 300 )
motion_mirroring = Vector2( 760, 0 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="BG/BGParallax/LayerBack2"]
texture = ExtResource( 13 )

[node name="PlayerCamera" parent="." instance=ExtResource( 2 )]
vertical_offset = 0.0
rotateWithPlayer = false

[node name="Player" parent="." instance=ExtResource( 3 )]
position = Vector2( 81, 348 )

[node name="BackDecorations" type="Node2D" parent="."]
z_index = -10
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="BG" type="Sprite" parent="BackDecorations"]
position = Vector2( 1024, 448 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 224, 224 )
__meta__ = {
"_edit_group_": true
}

[node name="BG2" type="Sprite" parent="BackDecorations"]
position = Vector2( 896, 352 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 32 )

[node name="BG3" type="Sprite" parent="BackDecorations"]
position = Vector2( 896, 417 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 32 )

[node name="BG11" type="Sprite" parent="BackDecorations"]
position = Vector2( 1823, 614 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 1360, 500 )

[node name="BG4" type="Sprite" parent="BackDecorations"]
position = Vector2( 904, 480 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 32 )

[node name="BG8" type="Sprite" parent="BackDecorations"]
position = Vector2( 904, 535 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 48 )

[node name="BG5" type="Sprite" parent="BackDecorations"]
position = Vector2( 888, 472 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG9" type="Sprite" parent="BackDecorations"]
position = Vector2( 888, 527 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 32 )

[node name="BG10" type="Sprite" parent="BackDecorations"]
position = Vector2( 872, 519 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG6" type="Sprite" parent="BackDecorations"]
position = Vector2( 904, 393 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG12" type="Sprite" parent="BackDecorations"]
position = Vector2( 872, 360 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG7" type="Sprite" parent="BackDecorations"]
position = Vector2( 904, 441 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BGCave" type="Node2D" parent="BackDecorations"]
position = Vector2( 2519, 1962 )

[node name="BGCave" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( -20, -18 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 5000, 2000 )

[node name="BGCave5" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 392, -1026 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BGCave4" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 488, -1026 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BGCave3" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 440, -1026 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 64, 16 )

[node name="BGCave6" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 440, -1042 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 16 )

[node name="BGCave7" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 2346, -1764 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 512, 768 )

[node name="BGCave8" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 2218, -2164 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 64, 32 )

[node name="BGCave10" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 2210, -2188 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 16 )

[node name="BGCave11" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 2170, -2156 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 16 )

[node name="BGCave9" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 2290, -2156 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 16 )

[node name="BG13" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1392, -1042 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 48 )

[node name="BG14" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1440, -1034 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 32 )

[node name="BG17" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1584, -1034 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 32 )

[node name="BG15" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1488, -1042 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 48 )

[node name="BG18" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1640, -1042 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 64, 48 )

[node name="BG19" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1712, -1058 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 80, 80 )

[node name="BG16" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1536, -1026 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 16 )

[node name="BG20" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1776, -1034 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 32 )

[node name="BG21" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1920, -1066 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 96 )

[node name="BG22" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1824, -1050 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 64 )

[node name="BG23" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1976, -1042 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 64, 48 )

[node name="BG24" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 2064, -1058 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 112, 80 )

[node name="BG26" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 2484, -1188 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 687, 340 )

[node name="BG25" type="Sprite" parent="BackDecorations/BGCave"]
position = Vector2( 1872, -1026 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 48, 16 )

[node name="Bacj2" type="Node2D" parent="BackDecorations"]
position = Vector2( 2258, 248 )

[node name="BG12" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 315, 245 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 144, 128 )

[node name="BG13" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 311, 121 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 144, 128 )

[node name="BG14" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 311, -7 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 144, 128 )

[node name="BG16" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 95, 1 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 288, 192 )

[node name="BG17" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -121, 3 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 144, 213 )

[node name="BG18" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -265, 3 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 144, 213 )

[node name="BG19" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -345, 0 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG20" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -345, -32 )
z_index = -1
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 48 )

[node name="BG21" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -345, -80 )
z_index = -1
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 48 )

[node name="BG22" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -345, 48 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 80 )

[node name="BG28" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -361, 40 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG34" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -361, 56 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG32" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -377, 88 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG33" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -393, 88 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG31" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -377, -1 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG36" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 275, 317 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG39" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 261, 550 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 84 )

[node name="BG40" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 261, 430 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 52 )

[node name="BG41" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 261, 368 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 32, 40 )

[node name="BG37" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 323, 333 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG42" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 285, 436 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG43" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 253, 396 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG48" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 253, 340 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG44" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 253, 464 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 4, 0, 16, 16 )

[node name="BG45" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 253, 500 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG49" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 253, 600 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 4, 16, 16 )

[node name="BG46" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 285, 540 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG47" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 285, 564 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG38" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 371, 317 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG30" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -345, 96 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="BG29" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -361, 80 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 32 )

[node name="BG26" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -361, 0 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 48 )

[node name="BG35" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( 327, 317 )
rotation = 1.5708
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 48 )

[node name="BG27" type="Sprite" parent="BackDecorations/Bacj2"]
position = Vector2( -361, -56 )
texture = ExtResource( 26 )
region_enabled = true
region_rect = Rect2( 0, 0, 16, 16 )

[node name="Level" type="Node2D" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="FullLoop2" parent="Level" instance=ExtResource( 4 )]
position = Vector2( 1429, -968 )

[node name="FullLoop4" parent="Level" instance=ExtResource( 25 )]
position = Vector2( 1911, -1040 )

[node name="FullCicle" parent="Level" instance=ExtResource( 5 )]
position = Vector2( 329, -1072 )

[node name="FullCircle" parent="Level" instance=ExtResource( 20 )]
position = Vector2( 953, -1149 )

[node name="FullCicle2" parent="Level" instance=ExtResource( 5 )]
position = Vector2( 635, -1293 )
scale = Vector2( 1, 1 )

[node name="FullCicle3" parent="Level" instance=ExtResource( 5 )]
position = Vector2( 997, 57 )
scale = Vector2( 1, 1 )

[node name="RotateCamTrigger" parent="Level" instance=ExtResource( 47 )]
position = Vector2( 997, 57 )
z_index = -1
inverse = false

[node name="LevelMaskBlue" type="TileMap" parent="Level"]
modulate = Color( 0.14902, 0.513726, 0.835294, 1 )
tile_set = ExtResource( 7 )
cell_size = Vector2( 16, 16 )
collision_layer = 26
collision_mask = 26
format = 1
tile_data = PoolIntArray( 1769526, -1610612736, 0, 2031670, -1610612736, 0 )

[node name="LevelMiddle" type="TileMap" parent="Level"]
modulate = Color( 0.27451, 0.862745, 0.156863, 1 )
z_index = 1
tile_set = ExtResource( 7 )
cell_size = Vector2( 16, 16 )
collision_layer = 25
collision_mask = 25
format = 1
tile_data = PoolIntArray( 1179702, 0, 0, 1179705, 0, 0, 1179709, 0, 0, 1179713, 0, 0, 1179717, 0, 0, 1245238, 1, 0, 1310754, 15, 0, 1441849, -1610612722, 0, 1441856, 1610612750, 0, 1507328, 0, 0, 1507332, 0, 0, 1507336, 0, 0, 1507340, 0, 0, 1507344, 0, 0, 1507348, 0, 0, 1507352, 0, 0, 1507356, 0, 0, 1507360, 19, 0, 1507382, 1, 0, 1900581, 14, 0, 1900608, -1073741810, 0, 2293804, 0, 0, 2293808, 0, 0, 2293812, 0, 0, 2293816, 0, 0, 2293820, 0, 0, 2293824, 0, 0, 2293828, 0, 0 )

[node name="LevelMaskRed" type="TileMap" parent="Level"]
modulate = Color( 0.913725, 0.0627451, 0.0627451, 1 )
z_index = 2
tile_set = ExtResource( 7 )
cell_size = Vector2( 16, 16 )
collision_layer = 28
collision_mask = 28
format = 1
tile_data = PoolIntArray( 1310754, 15, 0 )

[node name="LevelPlatforms" type="TileMap" parent="Level"]
modulate = Color( 0.905882, 0.0627451, 0.913725, 1 )
z_index = 2
tile_set = ExtResource( 6 )
cell_size = Vector2( 16, 16 )
collision_layer = 25
collision_mask = 25
format = 1
tile_data = PoolIntArray( 1179690, 0, 0, 1179694, 0, 0, 1179698, 0, 0, 1310754, 15, 0, 1900608, -1073741810, 0 )

[node name="ForeDecoration" type="Node2D" parent="."]
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="LevelSFX" type="Node" parent="."]

[node name="WallBreak" type="AudioStreamPlayer" parent="LevelSFX"]
stream = ExtResource( 41 )

[node name="GlobalSFX" type="Node" parent="."]

[node name="Destroy" type="AudioStreamPlayer" parent="GlobalSFX"]
stream = ExtResource( 45 )

[node name="StageMusic" type="AudioStreamPlayer" parent="."]
autoplay = true
script = ExtResource( 16 )
preSong = ExtResource( 19 )
song = ExtResource( 17 )
[connection signal="finished" from="StageMusic" to="StageMusic" method="_on_StageMusic_finished"]
